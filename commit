#!/bin/bash
# Generate and push 0 - N (random) empty commits in the current project
if [[ $# -ne 1 ]]; then
    echo "${0##*/} <max_commits>"
fi
max=$1

# skip if saturday or sunday
[[ `date +%u` -ge 6 ]] && exit 0

# commit up to $max
for i in $(seq 0 $max | head -n $(shuf -i 0-$max | head -1)); do
    git commit --allow-empty -m `uuidgen -r`
done

# push
git push
